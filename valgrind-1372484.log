==1372484== Memcheck, a memory error detector
==1372484== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1372484== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1372484== Command: ./archivio 2 4
==1372484== Parent PID: 1372482
==1372484== 
==1372484== Warning: invalid file descriptor -1 in syscall read()
==1372484== Warning: invalid file descriptor -1 in syscall read()
==1372484== 
==1372484== Process terminating with default action of signal 15 (SIGTERM)
==1372484==    at 0x4864CD7: __pthread_clockjoin_ex (pthread_join_common.c:145)
==1372484==    by 0x10A811: main (archivio.c:107)
==1372484== 
==1372484== HEAP SUMMARY:
==1372484==     in use at exit: 6,310 bytes in 32 blocks
==1372484==   total heap usage: 34 allocs, 2 frees, 24,006,462 bytes allocated
==1372484== 
==1372484== 16 bytes in 1 blocks are definitely lost in loss record 1 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10A267: main (archivio.c:52)
==1372484== 
==1372484== 24 bytes in 1 blocks are still reachable in loss record 2 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10BBBC: thread_create (thread.c:6)
==1372484==    by 0x10A284: main (archivio.c:57)
==1372484== 
==1372484== 24 bytes in 1 blocks are still reachable in loss record 3 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10BBBC: thread_create (thread.c:6)
==1372484==    by 0x10A3C6: main (archivio.c:91)
==1372484== 
==1372484== 24 bytes in 1 blocks are still reachable in loss record 4 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10BBBC: thread_create (thread.c:6)
==1372484==    by 0x10A758: main (archivio.c:99)
==1372484== 
==1372484== 36 bytes in 1 blocks are still reachable in loss record 5 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x401F5CE: strdup (strdup.c:42)
==1372484==    by 0x4019A81: _dl_load_cache_lookup (dl-cache.c:338)
==1372484==    by 0x400A989: _dl_map_object (dl-load.c:2102)
==1372484==    by 0x4015D36: dl_open_worker (dl-open.c:513)
==1372484==    by 0x49DE837: _dl_catch_exception (dl-error-skeleton.c:208)
==1372484==    by 0x40155F9: _dl_open (dl-open.c:837)
==1372484==    by 0x49DD7E0: do_dlopen (dl-libc.c:96)
==1372484==    by 0x49DE837: _dl_catch_exception (dl-error-skeleton.c:208)
==1372484==    by 0x49DE902: _dl_catch_error (dl-error-skeleton.c:227)
==1372484==    by 0x49DD914: dlerror_run (dl-libc.c:46)
==1372484==    by 0x49DD914: __libc_dlopen_mode (dl-libc.c:195)
==1372484==    by 0x486F99A: pthread_cancel_init (unwind-forcedunwind.c:53)
==1372484== 
==1372484== 36 bytes in 1 blocks are still reachable in loss record 6 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x400D5A7: _dl_new_object (dl-object.c:196)
==1372484==    by 0x4006E96: _dl_map_object_from_fd (dl-load.c:997)
==1372484==    by 0x400A61A: _dl_map_object (dl-load.c:2236)
==1372484==    by 0x4015D36: dl_open_worker (dl-open.c:513)
==1372484==    by 0x49DE837: _dl_catch_exception (dl-error-skeleton.c:208)
==1372484==    by 0x40155F9: _dl_open (dl-open.c:837)
==1372484==    by 0x49DD7E0: do_dlopen (dl-libc.c:96)
==1372484==    by 0x49DE837: _dl_catch_exception (dl-error-skeleton.c:208)
==1372484==    by 0x49DE902: _dl_catch_error (dl-error-skeleton.c:227)
==1372484==    by 0x49DD914: dlerror_run (dl-libc.c:46)
==1372484==    by 0x49DD914: __libc_dlopen_mode (dl-libc.c:195)
==1372484==    by 0x486F99A: pthread_cancel_init (unwind-forcedunwind.c:53)
==1372484== 
==1372484== 48 bytes in 2 blocks are still reachable in loss record 7 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10BBBC: thread_create (thread.c:6)
==1372484==    by 0x10A73D: main (archivio.c:95)
==1372484== 
==1372484== 64 bytes in 1 blocks are still reachable in loss record 8 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10A9CF: hash_table_create (hash_table.c:12)
==1372484==    by 0x10A253: main (archivio.c:49)
==1372484== 
==1372484== 80 bytes in 1 blocks are still reachable in loss record 9 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10B0C2: buffer_create (buffer.c:11)
==1372484==    by 0x10A2F0: main (archivio.c:66)
==1372484== 
==1372484== 80 bytes in 1 blocks are still reachable in loss record 10 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10B0C2: buffer_create (buffer.c:11)
==1372484==    by 0x10A301: main (archivio.c:67)
==1372484== 
==1372484== 80 bytes in 1 blocks are still reachable in loss record 11 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10A312: main (archivio.c:70)
==1372484== 
==1372484== 80 bytes in 1 blocks are still reachable in loss record 12 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10A35F: main (archivio.c:79)
==1372484== 
==1372484== 96 bytes in 4 blocks are still reachable in loss record 13 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10BBBC: thread_create (thread.c:6)
==1372484==    by 0x10A7EA: main (archivio.c:103)
==1372484== 
==1372484== 160 bytes in 1 blocks are still reachable in loss record 14 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10B0AC: buffer_create (buffer.c:7)
==1372484==    by 0x10A2F0: main (archivio.c:66)
==1372484== 
==1372484== 160 bytes in 1 blocks are still reachable in loss record 15 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10B0AC: buffer_create (buffer.c:7)
==1372484==    by 0x10A301: main (archivio.c:67)
==1372484== 
==1372484== 272 bytes in 1 blocks are possibly lost in loss record 16 of 24
==1372484==    at 0x483DD99: calloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x40149CA: allocate_dtv (dl-tls.c:286)
==1372484==    by 0x40149CA: _dl_allocate_tls (dl-tls.c:532)
==1372484==    by 0x4864322: allocate_stack (allocatestack.c:622)
==1372484==    by 0x4864322: pthread_create@@GLIBC_2.2.5 (pthread_create.c:660)
==1372484==    by 0x10BBDF: thread_create (thread.c:13)
==1372484==    by 0x10A284: main (archivio.c:57)
==1372484== 
==1372484== 272 bytes in 1 blocks are possibly lost in loss record 17 of 24
==1372484==    at 0x483DD99: calloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x40149CA: allocate_dtv (dl-tls.c:286)
==1372484==    by 0x40149CA: _dl_allocate_tls (dl-tls.c:532)
==1372484==    by 0x4864322: allocate_stack (allocatestack.c:622)
==1372484==    by 0x4864322: pthread_create@@GLIBC_2.2.5 (pthread_create.c:660)
==1372484==    by 0x10BBDF: thread_create (thread.c:13)
==1372484==    by 0x10A3C6: main (archivio.c:91)
==1372484== 
==1372484== 272 bytes in 1 blocks are possibly lost in loss record 18 of 24
==1372484==    at 0x483DD99: calloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x40149CA: allocate_dtv (dl-tls.c:286)
==1372484==    by 0x40149CA: _dl_allocate_tls (dl-tls.c:532)
==1372484==    by 0x4864322: allocate_stack (allocatestack.c:622)
==1372484==    by 0x4864322: pthread_create@@GLIBC_2.2.5 (pthread_create.c:660)
==1372484==    by 0x10BBDF: thread_create (thread.c:13)
==1372484==    by 0x10A758: main (archivio.c:99)
==1372484== 
==1372484== 384 bytes in 1 blocks are still reachable in loss record 19 of 24
==1372484==    at 0x483DD99: calloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x401330A: _dl_check_map_versions (dl-version.c:274)
==1372484==    by 0x40160EC: dl_open_worker (dl-open.c:577)
==1372484==    by 0x49DE837: _dl_catch_exception (dl-error-skeleton.c:208)
==1372484==    by 0x40155F9: _dl_open (dl-open.c:837)
==1372484==    by 0x49DD7E0: do_dlopen (dl-libc.c:96)
==1372484==    by 0x49DE837: _dl_catch_exception (dl-error-skeleton.c:208)
==1372484==    by 0x49DE902: _dl_catch_error (dl-error-skeleton.c:227)
==1372484==    by 0x49DD914: dlerror_run (dl-libc.c:46)
==1372484==    by 0x49DD914: __libc_dlopen_mode (dl-libc.c:195)
==1372484==    by 0x486F99A: pthread_cancel_init (unwind-forcedunwind.c:53)
==1372484==    by 0x486FBB3: _Unwind_ForcedUnwind (unwind-forcedunwind.c:127)
==1372484==    by 0x486DF05: __pthread_unwind (unwind.c:121)
==1372484== 
==1372484== 472 bytes in 1 blocks are still reachable in loss record 20 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x490095D: __fopen_internal (iofopen.c:65)
==1372484==    by 0x490095D: fopen@@GLIBC_2.2.5 (iofopen.c:86)
==1372484==    by 0x10A2D6: main (archivio.c:62)
==1372484== 
==1372484== 544 bytes in 2 blocks are possibly lost in loss record 21 of 24
==1372484==    at 0x483DD99: calloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x40149CA: allocate_dtv (dl-tls.c:286)
==1372484==    by 0x40149CA: _dl_allocate_tls (dl-tls.c:532)
==1372484==    by 0x4864322: allocate_stack (allocatestack.c:622)
==1372484==    by 0x4864322: pthread_create@@GLIBC_2.2.5 (pthread_create.c:660)
==1372484==    by 0x10BBDF: thread_create (thread.c:13)
==1372484==    by 0x10A73D: main (archivio.c:95)
==1372484== 
==1372484== 800 bytes in 1 blocks are still reachable in loss record 22 of 24
==1372484==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x10A9F5: hash_table_create (hash_table.c:20)
==1372484==    by 0x10A253: main (archivio.c:49)
==1372484== 
==1372484== 1,088 bytes in 4 blocks are possibly lost in loss record 23 of 24
==1372484==    at 0x483DD99: calloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x40149CA: allocate_dtv (dl-tls.c:286)
==1372484==    by 0x40149CA: _dl_allocate_tls (dl-tls.c:532)
==1372484==    by 0x4864322: allocate_stack (allocatestack.c:622)
==1372484==    by 0x4864322: pthread_create@@GLIBC_2.2.5 (pthread_create.c:660)
==1372484==    by 0x10BBDF: thread_create (thread.c:13)
==1372484==    by 0x10A7EA: main (archivio.c:103)
==1372484== 
==1372484== 1,198 bytes in 1 blocks are still reachable in loss record 24 of 24
==1372484==    at 0x483DD99: calloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==1372484==    by 0x400D273: _dl_new_object (dl-object.c:89)
==1372484==    by 0x4006E96: _dl_map_object_from_fd (dl-load.c:997)
==1372484==    by 0x400A61A: _dl_map_object (dl-load.c:2236)
==1372484==    by 0x4015D36: dl_open_worker (dl-open.c:513)
==1372484==    by 0x49DE837: _dl_catch_exception (dl-error-skeleton.c:208)
==1372484==    by 0x40155F9: _dl_open (dl-open.c:837)
==1372484==    by 0x49DD7E0: do_dlopen (dl-libc.c:96)
==1372484==    by 0x49DE837: _dl_catch_exception (dl-error-skeleton.c:208)
==1372484==    by 0x49DE902: _dl_catch_error (dl-error-skeleton.c:227)
==1372484==    by 0x49DD914: dlerror_run (dl-libc.c:46)
==1372484==    by 0x49DD914: __libc_dlopen_mode (dl-libc.c:195)
==1372484==    by 0x486F99A: pthread_cancel_init (unwind-forcedunwind.c:53)
==1372484== 
==1372484== LEAK SUMMARY:
==1372484==    definitely lost: 16 bytes in 1 blocks
==1372484==    indirectly lost: 0 bytes in 0 blocks
==1372484==      possibly lost: 2,448 bytes in 9 blocks
==1372484==    still reachable: 3,846 bytes in 22 blocks
==1372484==         suppressed: 0 bytes in 0 blocks
==1372484== 
==1372484== For lists of detected and suppressed errors, rerun with: -s
==1372484== ERROR SUMMARY: 6 errors from 6 contexts (suppressed: 0 from 0)
